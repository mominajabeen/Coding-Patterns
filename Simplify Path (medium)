#include <bits/stdc++.h>
#include <iostream>
#include <vector>
#include <stack>
#include <sstream>
using namespace std;

class Solution {
public:
    string simplifyPath(string path) {
        stack<string> stack;
        istringstream iss(path);
        string p;
        while(getline(iss, p, '/')){
            if(p == ".."){
                if(!stack.empty())
                    stack.pop();
            }
            else if(!p.empty() && p != "."){
                stack.push(p);
            }
        }
        string res = "";

        while(!stack.empty()){
            res = "/" + stack.top() + res;
            stack.pop();
        }
        return res.empty()? "/" : res;
    }
};
