#include <vector>
#include <iostream>
using namespace std;
class UnionFind{
    vector<int> parent;
    vector<int> rank;

public:
UnionFind(int size){
    parent.resize(size);
    rank.resize(size, 0);
    for(int i = 0; i < size; i++){
        parent[i] = i;
    }
}
int find(int x){
    if (parent[x] != x)
        parent[x] = find(parent[x]);
    return parent[x];
}
void union_set(int x, int y){
    int rootX = find(x);
    int rootY = find(y);

    if(rootX == rootY)  return;

    if(rank[rootX] > rank[rootY])
        parent[rootY] = rootX;
    else if(rank[rootX] < rank[rootY])
        parent[rootX] = rootY;
    else
        parent[rootY] = rootX;
        rank[rootX]++;
}
};
class Solution {
public:
    // Function to find the province count.
    int findProvinces(vector<vector<int>>& isConnected) {
        int n = isConnected.size();
        UnionFind uf(n);
        int noOfProvences = n;

        for(int i = 0; i < n; i++){
            for(int j = i + 1; j < n; j++){
                if(isConnected[i][j] == 1 && uf.find(i) != uf.find(j)){
                    noOfProvences--;
                    uf.union_set(i, j);
                }
            }
        }
        return noOfProvences;
    }
};
